---

Copyright 2013 Mentor Graphics Corp.  All Rights Reserved.

---

# Reflexive Association have no clear connection between association end and attribute
### xtUML Project Design Note

1. Abstract
-----------
 When formalizing reflexive associations, there is no clear connection between 
the formalizing attribute and the association end.

 For Reflexive associations with associative classes, formalizing results in two 
attributes with the same name in the association class. There is no possibility 
to connect each attribute to the association end without running the Verifier.

 The issue [2] was fixed , but the customer -SAAB- did not like the fix
and asked to reopen the issue.

2. Document References
----------------------
[1] Issues 39, https://github.com/xtuml/internal/issues/39
[2] ClearQuest DEI dts0100835691 - Formalizing Reflexive Association have no 
	clear connection between association end and attribute

3. Background
-------------
 In the implemented fix, two Textboxes were added to the formalize wizard to 
allow the user to enter two different prefixes for each referential identifier.
 
 This helps the user to differentiate between the created referential 
identifiers, but it was ambiguous which prefix goes to which association ends. 
Therefore the customer requested to reopen the issue.

4. Requirements
---------------
4.1 In formalize wizard, the user shall be able to add prefix to referential 
identifiers and it shall be clear for the user which association end will be 
hooked up with each specific entered prefixe.

5. Analysis
-----------
5.1 In formalize wizard, it is required to mention for each prefix Textbox, 
which association end this prefixe will be related with.

5.2 The formalize wizard page shall be read as follows :
5.2.1 Suggestion 1:
Prefix [<entered prefix> ] will be associated with identifier [<ID>] of class <key letter> for the [<assocaition text phrase>] side

5.2.2 Suggestion 2:
<key letter>  :  Prefix [<entered prefix> ] for  [ <ID> ] is associated with < Phrase .. >

5.3 Suggestion 5.2.1  is better because if the relation text phrase was empty, 
"for the [ ] side" will be removed without breaking the meaning.

5.4 Formalize wizard for associative, reflexive, binary association must be 
consistent 

5.5 User can add prefix for both referential identifiers or only to one of them.

6. Design
---------
6.1 Edit page.inc  archetype file in order to : 
6.1.1 Change the format of Formalize wizard to match 5.2.1 for the three types 
of association.
6.1.2 Display the association text phrase ( if exist ) 
6.1.3 Allow the user to enter only one prefix without cause crash.

7. Design Comments
------------------
None.

8. Unit Test
------------
8.1 Create a JUnit similar to existed one that perform formalizing association
for all types and conditions, with entering a prefix for the referential 
identifiers and validate that the prefixes are added to the created identifiers.

End
---

