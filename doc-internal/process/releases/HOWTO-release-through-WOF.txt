========================================================================

File:      $RCSfile: HOWTO-release-through-WOF.txt,v $
Version:   $Revision: 1.19 $
Modified   $Date: 2013/06/14 20:06:09 $

(c) Copyright 2006-2010 by Mentor Graphics, Corp. All rights reserved.

========================================================================
This document contains information proprietary and confidential to
Mentor Graphics, Corp. and is not for external distribution.
========================================================================

HOWTO Release through Worldwide Order Fulfillment (WOF)

Abstract
--------
The division has established a process for the release and distribution of our
products to the outside world.  The process is outlined at [3].  This document
attempts to fill in the blanks of that document.


References
----------
[1] License Detective. http://chopper/oss/oss_util/index.html
[2] OSS Request Form. http://chopper/oss/oss_request_form.php
[3] Product Release Process. http://teams-na/wof/RELEASE/default.aspx
[4] Release Registration Tool. 
      http://mentorweb.wv.mentorg.com/ReleaseRegistration/releasetool
[5] Software Product Handoff Guide. 
      http://teams-na/WOF/MFG_Delivery/SWMFG/Release%20Administration/Software_Product_Handoff_Guides.pdf
[6] Release Captain's Checklist. 
      http://teams.mgc.mentorg.com/go/collaboration/Releases/_layouts/WordViewer.aspx?id=/go/collaboration/Releases/Documents/Release%20Captain%27s%20Checklist.doc&Source=http%3A%2F%2Fteams%2Emgc%2Ementorg%2Ecom%2Fgo%2Fcollaboration%2FReleases%2FDocuments%2FForms%2FAllItems%2Easpx&DefaultItemOpen=1&DefaultItemOpen=1
[7] Importing Documentation to Supportnet. 
      http://mentorweb.wv.mentorg.com/techpubs/snet/import_docs_process.html
[8] Install Instructions Template. 
      http://mentorweb.wv.mentorg.com/techpubs/templates/techpubs_template_install.html
[9] svn://tucson.wv.mentorg.com/arch1/products/tiger/doc_repository/trunk/Documentation/internal/Releases
[10] CD Creation Script Instructions
      <CVS>/Documentation/internal/process/releases/scripts/CD creation scripts.txt
[11] Support Net Authoring Site.  http://authoring.supportnet.mentor.com/
[12] HOWTO Update to a New Version of Mentor Licensing (PCLS/MGLS)
      <CVS>/Documentation/internal/process/releases/HOWTO-update-mentor-licensing-libs.txt
          
Introduction
------------
There are various people involved in the release process.  Here are some names
to be aware of:
    o Gail Flanagan (Team lead - WoF)
    o Joanne StJohn (BridgePoint Release Analyst - WoF)

WOF has created a document [5] that provides important information for the
release captain and developers. The Release Captain's Checklist [6] captures
important milestones along the road of making a release.

NOTE: Mentor enforces a blackout period.  There are no releases in the last two
weeks of a quarter without high-level approvals (Serge, Todd Christensen, 
Rick Trebing)

Steps
-----
1  Make sure all Open Source Software to be released with the product has the 
   proper approvals from Mentor Legal Department.
1.1  If necessary, run the license detective [1] and submit new OSS requests 
     for approval [2].
     
2  Decide on the configuration of the release (# of CDs, names, etc, EAD, MSI 
   version, MGLS version)
            
3  Start Documentation
3.1  Retrieve the Release Captain's checklist template [6].  Create a new
     release number dir under [9]. Copy the release captain checklist to this
     dir and start filling it out.  Continue to follow the steps to during the
     release process. 

4  Register the release
4.1  Navigate to [4]
4.2  Search for the prior product release using the listbox at the bottom of 
     the page.
4.3  Locate the previous release, click on the release number.  This will take
     you back to [4], with the prior release number filled in.
4.4  Click the "Retrieve Committed For New Registration" button.
4.5  Fill out the form and submit it.
4.6  The release will be registered.
        
5  Validate artwork
5.1  We validate artwork, match part numbers, versions, copyrights, platform 
     info, etc.
5.2  Wait for artwork to be created by Ireland.  Validate it once received.
     Artwork *must* be validated at least 7 days before manufacturing start.
        
6  Develop product, docs, generate internal releases, installer, QA & test
6.1  Update the metamodel model in bp.welcome.  Follow the steps in 
     bp.welcome/README.txt
6.2  Decide if we will move to a newer version of MGLS/PCLS.  To update to a new
     version see [12]
 
7  Docs Freeze & Feature Freeze; followed by Code Freeze (make sure CC & CQ are 
   updated)
   
8  Follow instructions in [10]       

#
# All Mentor Graphics releases that ship on CD/DVD media must have a 
# Installation Instructions document in PDF format in the release_documents 
# directory, at the top level of Disk 1. For web-based releases, this PDF 
# document must also be available for viewing from that release's download page 
# on SupportNet. This document is not shipped as hardcopy.
#
9 Release doc prep
9.1 Download the template at [8] or use the one from the prior release as a 
      base. The prior release documentation can be found under [9].
9.2 Create a folder for the new release under [9]
9.3 Update the install doc to account for the new version, release date, headers,
      footers, TOC, and any changes to the document content
9.4 Save it to BridgePoint_<version>_Install.doc
9.5 Use MS Word's Save As... feature to save the file in PDF format
9.6 Perform the same steps to update the Release Highlights document for this
      release.
9.7 Copy the Install PDF file to the following locations:
      \\wv\dfs\svd_for_cd\BridgePoint_<ver>\web\<release #>\release_docs
      \\wv\dfs\svd_for_cd\BridgePoint_<ver>\web
      \\wv\dfs\svd_for_cd\BridgePoint_<ver>\cd_1\release_documents
      \\wv\dfs\svd_for_cd\BridgePoint_<ver>\cd_2\release_documents
9.8 Copy the Release Highlights PDF file to the following locations:
      \\wv\dfs\svd_for_cd\BridgePoint_<ver>\web\<release #>\release_docs 
      \\wv\dfs\svd_for_cd\BridgePoint_<ver>\cd_1\release_documents
      \\wv\dfs\svd_for_cd\BridgePoint_<ver>\cd_2\release_documents
9.9 Commit the MS Word files to a release versioned dir under [9]

#
# Create xml files for SupportNet
# We have a tool that generates them (create_xml_BridgePoint). The tool knows  
#   about SupportNet hierarchy. Tool is run by mk_cds_rdme_mrc_BridgePoint.ksh 
#   script inside step 8.
# Have to do hand edits to fix title, version, and paths as necessary. Check
# each file.
#   NOTE: The release highlights and install doc paths should point into
#         release_docs/ not docs/pdfdocs/
#
10 Check xml files in \\wv\dfs\svd_for_cd\BridgePoint_<ver>\web\<rel#>\docs\xml for correctness

#
# Place documentation
#
11 Follow the tasks in the appendix: Steps to Import and Validate Documentation

#
# 12 Upload the files for Manufacturing
#   NOTE: Previous steps can be performed multiple times.  The following steps
#         should only be run ONCE, as they trigger  activities in the 
#         manufacturing process.
#
#   Steps performed by this script:
#   - Create tgz image of CDs
#   - FTP image and its check sum file to Manufacturing
#   - FTP web ReadMe and any other files required for Intraware Site and their 
#     check sum files to Manufacturing
#   - Create ESDM request e-mail
#
12 Upload the data
12.1  Log in to your Wilsonville UNIX terminal again
12.2  Run the following commands:
cd /wv/seamless_archives/bin
./mk_cd_image
    - Enter e-mail
    - Enter Business Unit (e.g. SLE)
    - Enter Release Number (e.g. 201002064)
    - Enter Release Name   (e.g. BridgePoint_3.1.2)
    - Enter release software location  (e.g. BridgePoint_3.1.2)
    - Enter number of CDs (e.g. 2)
    - Answer patch question (e.g. 200911033)
    - Enter ESDM Filenames and Descriptions for the EXE, IXL, and Install doc.
        Enter no data to exit the loop.  For example:
            ESDM FILENAME1: BridgePoint_3.1.2_Install.pdf
            ESDM FILEDESCRIPTION1: BridgePoint 3.1.2 Installation Instructions
            ESDM FILENAME2: BridgePoint_R3_1_2.ixl
            ESDM FILEDESCRIPTION2: BridgePoint 3.1.2 Linux Installer
            ESDM FILENAME3: BridgePoint_R3_1_2.exe
            ESDM FILEDESCRIPTION3: BridgePoint 3.1.2 Windows Installer
            ESDM FILENAME4: <enter>
            ESDM FILEDESCRIPTION4: <enter>
    - Enter CD part number (e.g. 243289)
      o Navigate to [4], enter the SKU, click View Media Content
      o Find the CD part number of the appropriate OS for the given files
    - Enter the CD title (e.g. BridgePoint 3.1.2, Linux)
        NOTE: The CD image is created here, this can take a few minutes.
    - Repeat for the other CD
        NOTE: The FTP step can take some time.
    - An e-mail will be sent to you with the ESDM data. Keep this e-mail handy.

#
# 13 Validate CDs (Optional)
#   
FTP files from ftp://svr-ies-ftp-01.ies.mentorg.com/pub/wof/<release#>
Burn and test CD images

#
# 14 Submit ESDM request to Release Team and Manufacturing
#     NOTE: The SupportNet authoring website is finicky about what you can and 
#           can't do with certain browsers.  If a step doesn't work in Firefox 
#           try IE, and vice-versa.
# 
Forward the CD/ESDM release e-mail to rdm_releaseinfo@mentor.com and wofmdsesdm@mentor.com
  o If you must redo the CD after emailing ESDM e-mail to RDM...
    1) Remove /wv/svd_for_cd/BridgePoint_<ver>/*.tgz
    2) Rename /wv/svd_for_cd/BridgePoint_<ver>/<CD PN> to cd_1 and cd_2 
       appropriately
    3) Repeat starting at step 8
    4) Send ESDM e-mail again with "Rework" added to the subject and in the 
       comments say why the rework is needed.
Wait for e-mail indicating manufacturing has finished processing the request.
Validate downloads from SupportNet Authoring Site [11]
  - It is quickest to remote into a machine in Wilsonville, launch a browser and
    pull down the Linux and Windows Installers.  Then do md5sum comparisons
    with the original files from tucson.
  - You can also install on remote machines and smoke test
Approve SupportNet Authoring Site
  - Log into the authoring site, navigate to the Downloads page for the release
  - Click the key and log in using CommonSpot credentials
  - Click the sunglasses and choose Author
  - NOTE: If you get a red box in the middle of the page that says "IMPORTANT
    AUTHORING NOTICE: To view/modify properties...", then you need to click that 
    link and then select sunglasses and Author again.
  - Click on the "padlock over paper" icon at the top of the page and from the 
    popup select Page Properties
  - Click Next
  - The page will change and show some tabs, choose Posting Info tab
  - Scroll down and select the Approved "yes" radio button
  - Scroll down to the bottom and select Finish
  - Close the popup window you were working in
  - Go to the Overview tab for the product, in the upper left corner, select 
      Japanese from the language dropdown
  - Repeat the steps to approve the Japanese page

Create MRC
  o The MRC was automatically created by an earlier script and stored at
    \\wv\dfs\svd_for_cd\BridgePoint_<release #>\BridgePoint_<release #>_mrc.html
  o Open the file with MS Word.  Go through the file and check that all the 
    fields are filled out properly and the proper checkboxes are checked. Verify
    that the product table appears at the end of the doc.  If it does not, open 
    this file in a text editor and move the product table at the end of the
    document up inside the body and html tags. Close the file.
E-mail MRC and Release Highlights to the people marked in the release registration
  as the Product Marketing and Customer Support Managers for approval
  o Save approval e-mails to PDF and copy them to 
    \\wv\dfs\svd_for_cd\BridgePoint_<release #>
E-mail MRC, Release Highlights and Approvals to Release Team and WOF 
  (rdm_releaseinfo@mentor.com and wofmdsesdm@mentor.com)
Wait for Release Team to enable MGC SupportNet
Verify docs & s/w on the MGC supportnet once MS date arrives

Tag the github xtuml/mc repository for the release (example below)
  $ git tag -a v3.7.0 -m 'Version of model compiler shipped with BP3.7.0'
  $ git push --tags
  
Package, save, and ship the C source arcs (example steps below)
  $ mkdir /tmp/arc
  $ cd /git/xtuml/mc
  $ cp * /tmp/arc
  $ cd c
  $ cp * /tmp/arc
  $ cd /tmp
  $ zip -r arc arc
  $ mv arc.zip BridgePoint_3.7.0_C_templates.zip
  o Then copy the zip to \\wv\dfs\bridgePoint\engineering_releases\R3_7_0_MC3020\
  o E-mail the zipfile to Robert Rice, Dean McArthur, John Wolfe, John Vargas,
    and Cort Starrett for distribution to source MC customers
    
Congratulations!  You have finished the relese.


--------------------------------------------------------------------------------
Appendix
--------

Steps to Import and Validate Documentation
------------------------------------------
NOTE: This process is changing with SupportNet 2.0.  For the time being a dual-import
      process is used.  See http://tpweb.wv.mentorg.com/techpubs/snet/import_docs_process.html
      and http://tpweb.wv.mentorg.com/techpubs/snet/import_docs_process20.html
      
Import documentation should occur prior to creating the CD image.  For
important information about this step see [7]. You must have JavaScript enabled
and allow popups coming from mentor.com.

- On a Wilsonville UNIX machine: 
    cd /wv/svd_for_cd/BridgePoint_<version>/web
    zip -r <SKU> <SKU>
    ftp the resulting <SKU>.zip to ftp://mentorweb/pub/BP/dropoff
- On your Windows machine (vm is best, local works):
    Pull down the <SKU>.zip
    Copy <SKU>.zip to \\svr-orw-wst-60\wst\drop\docs
- NOTE: The SupportNet authoring website is finicky about what you can and can't
        do with certain browsers.  If a step doesn't work in Firefox try IE, and
        vice-versa.
- Open http://authutils.supportnet.mentor.com/tools/, click on Doc Import
- In the pull down select your release and click Go if replication is not in 
  progress.  Red text on the page usually means you can not import. After the 
  import is completed go to [11] on the left side select your product if its not
  your default.
- Navigate to the new release via the link under Current Releases or via the 
  Downloads tab.
- Scroll down to release documentation.
- Check every link to be sure they pull the right document.
- Then click on "View all product docs" 
- Check every link to be sure they pull the right document.
- Hit the back arrow in the browser to go back to the main page for this release
- If all docs are OK you need click on the key icon at the top to log into 
  Authoring mode.  This step requires you to be set up with a CommonSpot login
  account.  If you do not have this, contact Shelby Root.  This is a different
  set of login credentials than your SupportNet account.  
- Once logged in, your browser should start a new session for SupportNet.  Log
  in with your SupportNet credentials as required.  Once back in to SupportNet,
  navigate to the main release page.
- Click on the sun glasses icon, then in the popup select Author.
    NOTE: I have fought this step before.  I have seen it get into a reauth-
    entication loop where it would prompt for my SN login again, then dump me
    back in the page in Read mode.  Select Author and it did the same thing
    again ad nauseum. I finally succeeded in breaking the loop by choosing 
    "Logout" in the left-hand bar.  It then took me back to the main SN page.  
    Here I told it to clear my "Remember me"  preference. Then I logged in to SN
    again. Next I navigated back to the BP release main page.  Finally I was 
    able to get into Author mode. 
- Once in Authoring mode, if the page contains a red box that says "IMPORTANT
  AUTHORING NOTICE: ..." and tells you to click a link, you must do this.  Then
  click the sunglasses on the page that comes up and log into Authoring mode
  again.  Now, the "IMPORTANT AUTHORING NOTICE: ..." should not be there.
- Click on the "padlock over paper" icon at the top of the page and from the 
  popup select "Page Properties..."
- Go though the wizard fixing information such as title and associated products.
  ***DO NOT edit any date fields.***
  After validating the first page, click "Next"
  o SKU: <release ID> (e.g. 201002064)
  o Post on CD request form: Yes
  o Intraware link: <leave value alone>
  o Hide IntraWare link for download: No
  o Ship with Adobe CD: No
  o Group Name: <empty>
  o Show Patch Request: No
  o Published: No
  o Approved: No
  o Searchable: No
  o Check values on other tabs as well
    - On the Release Information tab the "Archived?" and "Hide in Archive?" 
      should be set to No
  - Once the changes are all done, select the Finish button
  - Close the secondary browser window
- Click the Overview tab.  In the upper left there is a pull down with "English" 
  in it, change it to "Japanese".
- Click on Downloads tab (go back to Select your release form the pull down list
  and push the orange arrow.)
- Verify the page properties like was just done for the English pages
- Return to step 11 above


End
---

$Log: HOWTO-release-through-WOF.txt,v $
Revision 1.19  2013/06/14 20:06:09  kbrown
job:dts0100968721
- Update the build scripts for the new part numbers and licensing file versions
- Update the HOWTO instructions for the release process for clarity and dual SupportNet 1.0 and 2.0 documentation process
- Update the instructions for how to upgrade MGLS

Changeset:
Documentation/internal/process/releases/HOWTO-release-through-WOF.txt
Documentation/internal/process/releases/HOWTO-update-mentor-licensing-libs.txt
Documentation/internal/process/releases/scripts/CD creation scripts.txt
Documentation/internal/process/releases/scripts/create_xml_BridgePoint
Documentation/internal/process/releases/scripts/mk_cds_rdme_mrc_BridgePoint.ksh

Revision 1.18  2012/11/01 15:37:09  kbrown
job:dts0100913093
Updated instructions for clarity.

Revision 1.17  2011/11/17 13:57:49  kbrown
job:dts0100831128
Minor tweaks to WOF release instructions.

Revision 1.16  2011/11/16 20:53:34  kbrown
job:dts0100831128
Minor tweaks to WOF release instructions.

Revision 1.15  2011/09/22 18:11:15  kbrown
job:dts0100789569
Make some release steps more explicit.

Revision 1.14  2011/06/07 20:12:24  kbrown
job:dts0100743436
Updated release howtos and scripts based on latest run through the process.

Revision 1.13  2010/11/11 15:52:36  kbrown
job:dts0100728741
More clarifications

Revision 1.12  2010/10/01 21:05:47  kbrown
job:dts0100700621
More howto clarifications.

Revision 1.11  2010/09/29 17:03:25  kbrown
job:dts0100700621
More tweaks to instructions.

Revision 1.10  2010/09/27 14:32:59  kbrown
job:dts0100700621
More updates and clarifications to instructions.

Revision 1.9  2010/09/24 21:24:05  kbrown
job:dts0100700621
More updates to scripts and instructions.

Revision 1.8  2010/07/02 15:50:49  kbrown
job:dts0100700621
More info based on final steps performed.

Revision 1.7  2010/06/24 21:35:18  kbrown
job:dts0100672593
Work in progress updates.  Just a little more cleanup left to do.  The doc is pretty solid at this point.

Revision 1.6  2010/06/18 21:13:42  kbrown
job:dts0100672593
More updates to the HOWTO.

Revision 1.5  2010/06/18 20:13:02  kbrown
job:dts0100672593
More updates to the HOWTO.

Revision 1.4  2010/06/17 14:03:30  kbrown
job:dts0100672593
More updates to the scripts and process for performing a release.

Revision 1.3  2010/06/17 02:23:22  kbrown
job:dts0100672593
More updates to the scripts and process for performing a release.

Revision 1.2  2010/05/27 20:41:52  kbrown
job:dts0100672593
Work in progress updates.

Revision 1.1  2010/03/10 04:13:18  kbrown
job:dts0100672593
Creating new HOWTO doc for the external release process.

